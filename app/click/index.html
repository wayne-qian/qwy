<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>测手速(qwy)</title>
	<link rel="shortcut icon" href="https://www.qwy.ac/icon.svg" type="image/svg">
	<link rel="icon" href="https://www.qwy.ac/icon.svg">
	<link rel="stylesheet" href="../../index.css">
</head>
<script src="../../index.js"></script>

<style>
	/* .page-container {
		padding: 5vh 5vh;
		border: 0.1vh;
		border-radius: 2vh;
		box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1)
	}

	.rt {
		border: 0.2vh solid black;
		width: 20vh;
		height: 20vh;
		font-size: 3vh;
		place-items: center;
		display: grid;
	}
*/
	.btn {
		width: 100vh;
		height: 40vh;
		font-size: 5vh;
	}

	.container {
		display: grid;
		place-items: center;
	}


	/* 
	.nav {
		border: 0.2vh solid gainsboro;
		margin-top: 2vh;
		margin-bottom: 5vh;
		height: 10vh;
		place-items: center;
		display: grid;
		padding: 0px;
		border-radius: 10vh;
		background-color: rgba(80, 80, 80, 0.5);
		position: -webkit-sticky;
		top: 5vh;
		float: top;
		box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1)
	}

	.navtxt {
		font-size: min(4vw, 4vh);
		margin-left: 1vw;
		margin-right: 1vw;
		margin-top: 0px;
		margin-bottom: 0px;
		color: rgb(75, 75, 75);
	} */

	.navp {
		margin: 0px;
		padding: 0px;
		border: 0px;
	}

	.text {
		border: 0.2vh solid black;
		margin-top: 1vh;
		margin-bottom: 1vh;
		font-size: 3vh;
	}

	*/
</style>

<body>

	
	
	<center>
		<div class="page-container">
			<div class="container">
				<input type="number" id="in" placeholder="输入测试时间(s)" style="width: 30vh; height: 3vh; font-size: 2vh;">
			</div>
			<br>
			<div class="container">
				<div class="rt">
					点击次数(次) : <div id="ct">0</div>
					剩余时间(s) : <div id="time">0</div>
				</div>
			</div>
			<br>
			<div class="container">
				<button class="btn" id="btn">点击开始</button>
			</div>
		</div>
	</center>
	<script>
init();
		document.oncontextmenu = event => event.preventDefault();
		addmouse(document.getElementById('btn'));
		let btn = document.getElementById('btn');
		let ct = document.getElementById('ct');
		let time = document.getElementById('time');
		let input = document.getElementById('in');
		let flag = false;
		btn.onmousedown = function () {
			if (time.innerText <= 0 && flag)
				time.innerText = 0, modal(Math.round(ct.innerText / input.value * 100) / 100 + 'cps'), flag = 0, btn.innerText = '点击开始';
			else if (flag)
				ct.innerText++;
			else {
				if (!/^\d$/.test(input.value) || input.value <= 0 || input.value > 100) {
					modal('请输入正确的时间');
					return;
				}
				flag = 1;
				ct.innerText = 0;
				time.innerText = input.value;
				btn.innerText = '点击!';
				let tmp = setInterval(() => {
					time.innerText--;
					if (time.innerText <= 0)
						clearInterval(tmp);
				}, 1000);
			}
		}
	</script>
</body>
<script src="../../nav.js"></script>
</html>